* Arch Linux
:PROPERTIES:
:ID: 212133b4-f2dc-4735-b383-b0fda10833af
:END:

#+begin_quote
A lightweight and flexible Linux distribution that tries to Keep It
Simple.
#+end_quote

** Installation Notes
:PROPERTIES:
:ID:       b98b89bf-1bb7-46d6-b27b-9990a0efc647
:END:
*** VERIFY
:PROPERTIES:
:ID:       05f3c4d6-a12d-4d9a-bd50-db3f56622fdc
:END:
we should verify image signatures and md5 sums on pre-install.
**** Pre-boot verify
:PROPERTIES:
:ID:       9911c315-e3e4-41db-9f7a-a711c51b46d3
:END:
#+BEGIN_SRC sh
gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig
#+END_SRC
where 'version' is a date in the format 'YYYY.MM.DD'

**** Post-boot verify
:PROPERTIES:
:ID:       959df534-5209-4850-a4d7-6f150fadecc4
:END:
#+BEGIN_SRC sh
pacman-key -v archlinux-version-x86_64.iso.sig
#+END_SRC
not recommended, especially if ISO image was downloaded via [[file:http.org][HTTP]] mirror
**** find device names
:PROPERTIES:
:ID:       b9d69686-3b4c-4407-8538-5fed693efbe3
:END:
#+BEGIN_SRC sh
lsblk
#+END_SRC
**** write archlinux ISO to device
:PROPERTIES:
:ID:       d93a09eb-9926-4025-9ce5-d0af28400619
:END:
#+BEGIN_SRC sh
sudo dd if=/home/neocode/iso/archlinux-2015.09.01-dual.iso /dev/sdb1
#+END_SRC
**** ping internet
:PROPERTIES:
:ID:       e6b22ba2-27a9-4a58-b284-2a82e7d6eac7
:END:
#+BEGIN_SRC sh
ping -c 3 google.com
#+END_SRC
*** PARTITION
:PROPERTIES:
:ID:       8bb83e76-9890-44ba-a5b0-75b5b0c26b7f
:END:
**** fdisk
:PROPERTIES:
:ID:       2ea9d4cf-041f-4a3e-8de7-a03caa7a9fdb
:END:
**** format partitions
:PROPERTIES:
:ID:       b2c778e5-91cd-4f33-b28e-2a9a3438d415
:END:
#+BEGIN_SRC sh
mkfs.ext4 /dev/sda1
#+END_SRC
**** make swap partitions
:PROPERTIES:
:ID:       ccbf3d88-926f-40b6-ba3a-c57f6e08aca0
:END:
#+BEGIN_SRC sh
mkswap /dev/sda2
swapon /dev/sda2
#+END_SRC
*** MOUNT
:PROPERTIES:
:ID:       b1615282-40fb-4eca-92c4-508de30fa2a1
:END:
#+BEGIN_SRC sh
mount /dev/sda1 /mnt
#+END_SRC
*** PROVISION
:PROPERTIES:
:ID:       7706593d-411f-4439-b866-1085a338199c
:END:
**** pacstrap
:PROPERTIES:
:ID:       f23e94b7-1775-4121-b810-0dfd1b46d559
:END:
#+BEGIN_SRC sh
pacstrap -i /mnt base base-devel
#+END_SRC
*** CONFIG
:PROPERTIES:
:ID:       bc26702c-548a-4022-93ab-bca8dc7558b9
:END:
**** Generate fstab file
:PROPERTIES:
:ID:       8890dab8-fe14-4f54-a6d6-613c827f07c1
:END:
#+BEGIN_SRC sh
genfstab -U -p /mnt >> /mnt/etc/fstab
#+END_SRC

test with:
#+BEGIN_SRC sh
cat /mnt/etc/fstab
#+END_SRC
**** chroot into fresh install
:PROPERTIES:
:ID:       15e4bbba-1aee-40da-9461-f0e2f7592f98
:END:
#+BEGIN_SRC sh
arch-chroot /mnt
#+END_SRC
**** Configure network
:PROPERTIES:
:ID:       4afe7a9a-be20-4a6e-be9b-1b0d5db6d2cb
:END:
#+BEGIN_SRC sh
ip link
# systemctl enable dhcpcd@enp0s3.service
#+END_SRC
**** Set locale
:PROPERTIES:
:ID:       ab330c12-37e0-4051-bc8c-77b9bb9ef54b
:END:
#+BEGIN_SRC sh
locale-gen
echo LANG=en_US.UTF-8 > /etc/locale.conf
export LANG=en_US.UTF-8
ln -s /usr/share/zoneinfo/America/New_York > /etc/localtime
#+END_SRC
**** Set Clock to UTC
:PROPERTIES:
:ID:       0f0381cf-85cc-4b97-8a4d-da7dedba3fd3
:END:
#+BEGIN_SRC sh
hwclock --systohc --utc
#+END_SRC
**** Update Archlinux Repository
:PROPERTIES:
:ID:       2274e479-c437-4f97-abff-3f90c7d78cbe
:END:
#+BEGIN_SRC sh
pacman -Sy
#+END_SRC

** Links
:PROPERTIES:
:ID:       328ce6ac-c4e4-47e6-9942-018561e7c630
:END:
*** [[https://wiki.archlinux.org/title/Dual_boot_with_Windows][Dual boot with Windows - ArchWiki]]
:PROPERTIES:
:ID:       0278d93e-d254-4494-b401-aa38277ad838
:END:
