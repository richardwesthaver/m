#+title: Arch Linux
#+begin_quote
A lightweight and flexible Linux distribution that tries to Keep It
Simple.
#+end_quote

* Installation
** VERIFY
we should verify image signatures and md5 sums on pre-install.
*** Pre-boot verify
#+BEGIN_SRC sh
gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig
#+END_SRC
where 'version' is a date in the format 'YYYY.MM.DD'

*** Post-boot verify
#+BEGIN_SRC sh
pacman-key -v archlinux-version-x86_64.iso.sig
#+END_SRC
not recommended, especially if ISO image was downloaded via [[file:http.org][HTTP]] mirror
*** find device names
#+BEGIN_SRC sh
lsblk
#+END_SRC
*** write archlinux ISO to device
#+BEGIN_SRC sh
sudo dd if=/home/neocode/iso/archlinux-2015.09.01-dual.iso /dev/sdb1
#+END_SRC
*** ping internet
#+BEGIN_SRC sh
ping -c 3 google.com
#+END_SRC
** PARTITION
*** fdisk
*** format partitions
#+BEGIN_SRC sh
mkfs.ext4 /dev/sda1
#+END_SRC
*** make swap partitions
#+BEGIN_SRC sh
mkswap /dev/sda2
swapon /dev/sda2
#+END_SRC
** MOUNT
#+BEGIN_SRC sh
mount /dev/sda1 /mnt
#+END_SRC
** PROVISION
*** pacstrap
#+BEGIN_SRC sh
pacstrap -i /mnt base base-devel
#+END_SRC
** CONFIG
*** Generate fstab file
#+BEGIN_SRC sh
genfstab -U -p /mnt >> /mnt/etc/fstab
#+END_SRC

test with:
#+BEGIN_SRC sh
cat /mnt/etc/fstab
#+END_SRC
*** chroot into fresh install
#+BEGIN_SRC sh
arch-chroot /mnt
#+END_SRC
*** Configure network
#+BEGIN_SRC sh
ip link
# systemctl enable dhcpcd@enp0s3.service
#+END_SRC
*** Set locale
#+BEGIN_SRC sh
locale-gen
echo LANG=en_US.UTF-8 > /etc/locale.conf
export LANG=en_US.UTF-8
ln -s /usr/share/zoneinfo/America/New_York > /etc/localtime
#+END_SRC
*** Set Clock to UTC
#+BEGIN_SRC sh
hwclock --systohc --utc
#+END_SRC
*** Update Archlinux Repository
#+BEGIN_SRC sh
pacman -Sy
#+END_SRC

